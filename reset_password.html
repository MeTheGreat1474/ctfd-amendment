{% extends "base.html" %}

{% block stylesheets %}
{% endblock %}

{% block content %}
<div class="text-center mb-8">
	<h1 class="text-4xl font-orbitron font-bold text-accent-purple mb-4 bg-gray-900 px-6 py-3 rounded-lg shadow-lg hover:text-accent-purple-hover transition-colors duration-300">Reset Password</h1>
</div>
<div class="w-full md:w-2/3 lg:w-1/2 mx-auto">
	{% if infos %}
		{% for info in infos %}
			<div class="mb-4 p-4 rounded-md bg-green-900 border border-green-700 text-green-300 text-center" role="alert">
				{{ info }}
			</div>
		{% endfor %}
	{% endif %}
	{% if errors %}
		{% for error in errors %}
			<div class="mb-4 p-4 rounded-md bg-red-900 border border-red-700 text-red-300 text-center" role="alert"> 
				{{ error }}
			</div>
		{% endfor %}
	{% endif %}

	{% if mode == "set" %}
		{% with form = Forms.auth.ResetPasswordForm() %}
		<form method="post" accept-charset="utf-8" autocomplete="off" role="form" class="text-center">
			<div class="mb-10">
				<p>You can now reset the password for your account and log in. Please enter in a new password below.</p>
			</div>
			<div class="form-group flex flex-col items-center">
				{{ form.password(class="w-full sm:w-2/3 mx-auto mb-4 p-2 rounded-md bg-secondary-dark text-text-light border border-gray-700 focus:outline-none focus:ring-2 focus:ring-accent-purple", placeholder="New Password") }}
				{{ form.submit(class="w-full sm:w-2/3 p-2 bg-accent-purple text-white rounded-md hover:bg-accent-purple-hover transition-colors cursor-pointer") }}
			</div>
			{{ form.nonce() }}
		</form>
		{% endwith %}
	{% else %}
		{% with form = Forms.auth.ResetPasswordRequestForm() %}
		<form method="post" accept-charset="utf-8" autocomplete="off" role="form" class="text-center">
			<div class="mb-10">
				<p>Please provide the email address associated with your account below.</p>
			</div>
			<div class="form-group flex flex-col items-center">
				{{ form.email(class="w-full sm:w-2/3 mx-auto mb-4 p-2 rounded-md bg-secondary-dark text-text-light border border-gray-700 focus:outline-none focus:ring-2 focus:ring-accent-purple", placeholder="example@mail.com") }}
				{{ form.submit(class="w-full sm:w-2/3 p-2 bg-accent-purple text-white rounded-md hover:bg-accent-purple-hover transition-colors cursor-pointer") }}
			</div>
			{{ form.nonce() }}
		</form>
		{% endwith %}
	{% endif %}
</div>
{% endblock %}

{% block scripts %}
{% endblock %}
